library(sf)
library(tidyverse)
lanes <- st_read("tow_lanes.kml")
library(here)
set_here(path='..')
lanes <- st_read(here("data", "tow_lanes.kml"))
library(here)
library(sf)
library(tidyverse)
#info
# vessel type code 52 is for tug boats, 31 and 32 for tow
# (https://api.vtexplorer.com/docs/ref-aistypes.html)
#load data
lanes <- st_read(here("data", "tow_lanes.kml")) %>%
st_make_valid()
View(lanes)
library(here)
library(sf)
library(tidyverse)
#info
# vessel type code 52 is for tug boats, 31 and 32 for tow
# (https://api.vtexplorer.com/docs/ref-aistypes.html)
#load data
lanes <- st_read(here("data", "tow_lanes.kml")) %>%
st_make_valid()
ais <- read_csv(here("data", "AIS_2021_03_15.csv"))
ais <- read_csv(here("data", "large_data", "AIS_2021_03_15.csv"))
View(ais)
names(ais)
unique(ais$VesselType)
library(here)
library(sf)
library(tidyverse)
dat <- read_csv(here("data", "towlane_order_2019.csv")) %>%
st_as_sf(., coords = c("long_dd", "lat_dd"), crs = 4326)
View(dat)
dat <- cbind(dat, st_coordinates(dat %>% select(geometry)))
ggplot() +
geom_sf(data = dat) +
theme_bw()
View(dat)
lines <- dat %>% group_by(line) %>%
arrange(order) %>%
summarize(m = mean(lat_s)) %>%
st_cast("LINESTRING")
lines <- dat %>% group_by(line) %>%
arrange(order) %>%
summarize(m = mean(Y)) %>%
st_cast("LINESTRING")
lanes_map
#plot data
lanes_map <- leaflet(lines) %>%
addTiles() %>%
addPolygons()
library(leaflet)
library(htmlwidgets) #save maps as .html files
lanes_map <- leaflet(lines) %>%
addTiles() %>%
addPolygons()
lanes_map
View(dat)
View(dat)
View(dat)
library(here)
library(sf)
library(tidyverse)
dat <- read_csv(here("data", "Towlane_all.csv")) %>%
st_as_sf(., coords = c("long_dd", "lat_dd"), crs = 4326)
dat <- cbind(dat, st_coordinates(dat %>% select(geometry)))
ggplot() +
geom_sf(data = dat) +
theme_bw()
summarize(dat$X)
summary(dat$X)
points_map <- leaflet(dat) %>%
addTiles() %>%
addPoints()
points_map <- leaflet(dat) %>%
addTiles() %>%
addCircleMarkers(lng = ~X, lat = ~Y)
leaflet(dat) %>%
addTiles() %>%
addCircleMarkers(lng = ~X, lat = ~Y)
names(dat)
library(here)
library(sf)
library(tidyverse)
library(leaflet)
library(htmlwidgets) #save maps as .html files
dat <- read_csv(here("data", "towlane_order_2019.csv")) %>%
st_as_sf(., coords = c("long_dd", "lat_dd"), crs = 4326)
dat <- cbind(dat, st_coordinates(dat %>% select(geometry)))
names(dat)
leaflet(dat) %>%
addTiles() %>%
addCircleMarkers(lng = ~X, lat = ~Y,
popup = line)
View(dat)
leaflet(dat) %>%
addTiles() %>%
addCircleMarkers(lng = ~X, lat = ~Y,
label = line)
View(dat)
leaflet(dat) %>%
addTiles() %>%
addCircleMarkers(lng = ~X, lat = ~Y,
popup = ~line)
library(here)
library(sf)
library(tidyverse)
library(leaflet)
library(htmlwidgets) #save maps as .html files
dat <- read_csv(here("data", "Towlane_all.csv")) %>%
st_as_sf(., coords = c("long_dd", "lat_dd"), crs = 4326)
dat <- cbind(dat, st_coordinates(dat %>% select(geometry)))
ggplot() +
geom_sf(data = dat) +
theme_bw()
tow_lanes_all <- leaflet(dat) %>%
addTiles() %>%
addCircleMarkers(lng = ~X, lat = ~Y)
saveWidget(tow_lanes_all, file = here("output", "tow_lanes_all.html"))
library(here)
library(sf)
library(tidyverse)
library(leaflet)
library(htmlwidgets) #save maps as .html files
dat <- read_csv(here("data", "towlane_order_2019.csv")) %>%
st_as_sf(., coords = c("long_dd", "lat_dd"), crs = 4326)
dat <- cbind(dat, st_coordinates(dat %>% select(geometry)))
towlane_order_2019 <- leaflet(dat) %>%
addTiles() %>%
addCircleMarkers(lng = ~X, lat = ~Y,
popup = ~line)
saveWidget(towlane_order_2019, file = here("output", "towlane_order_2019.html"))
View(dat)
